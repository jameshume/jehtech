dnl USEM4
dnl ---- START M4 MACROS ----
define(`OHM', `&#x2126;')
define(`REF', `<a href="$1" target="_blank">$2</a>')dnl
define(`REF_POW_VS_ENERGY', `https://cleantechnica.com/2015/02/02/power-vs-energy-explanation/')
define(`REF_KHAN_ELEC_POT', `https://youtu.be/elJUghWSVh4')
define(`REF_KIRCHOFF', `https://www.cpp.edu/~elab/projects/project_02/index.html')
define(`REF_TEXTBOOK_KVL_STACK_QUESTION', `https://electronics.stackexchange.com/q/641627/325669')
define(`REF_KHAN_CAP_PULSE', `https://www.khanacademy.org/science/electrical-engineering/ee-circuit-analysis-topic/ee-natural-and-forced-response/a/ee-capacitor-equation-in-action')
define(`REF_KHAN_CAP_EQUATIONS', `https://www.youtube.com/watch?v=gd7caHXKtp8')
define(`REF_SO_CAP_EQUATIONS', `https://electronics.stackexchange.com/a/264282/26358')
define(`REF_SO_I_SRC', `https://electronics.stackexchange.com/q/28546/26358')
define(`REF_BATT_INT_RES', `http://www.learningaboutelectronics.com/Articles/Battery-internal-resistance')
define(`REF_UTUBE_CIRC_ANAL', `https://youtu.be/sqxzQkAdJm0')
define(`REF_NPN_CURVES', `http://www.physics.csbsju.edu/trace/NPN.CC.html')
define(`REF_UDEMY_ROBOTS', `https://www.udemy.com/course/analog-electronics-robotics-learn-by-building/')
define(`REF_NPN_INTRO', `https://www.theengineeringprojects.com/2018/05/introduction-to-npn-transistor.html')
define(`REF_TRANS_CONFIGS', `https://www.electronics-notes.com/articles/analogue_circuits/transistor/transistor-circuit-configurations.php')
define(`REF_2N2222', `https://www.electroschematics.com/wp-content/uploads/2009/04/2n2222-datasheet.pdf')
define(`REF_NPN_ELECTRONICS_TUTS', `https://www.electronics-tutorials.ws/transistor/tran_2.html')
define(`REF_CIRCUIT_LAB', `https://www.circuitlab.com/')
define(`REF_CIRCUIT_LAB_BOOK', `https://ultimateelectronicsbook.com/')
define(`REF_CALC_RESISTOR_FOR_TRANSITOR', `https://raspberrypi.stackexchange.com/questions/75520/calculating-resistor-value-for-transistor')
define(`REF_CE_TRANSITOR_CONFIG', `https://circuitglobe.com/common-emitter-connection-or-ce-configuration.html')
define(`REF_KHAN_PASSIVE_SIGN', `https://www.khanacademy.org/science/electrical-engineering/ee-circuit-analysis-topic/circuit-elements/v/ee-passive-sign-convention')
define(`REF_LABEL_V_I_NODE', `https://ultimateelectronicsbook.com/labeling-voltages-currents-nodes/')
define(`REF_HYPER_PHYS_ELECTMAG', `http://hyperphysics.phy-astr.gsu.edu/hbase/emcon.html')
dnl ---- END M4 MACROS ----
<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <!-- HTML 4 -->
	<meta charset="UTF-8">                                              <!-- HTML 5 -->
	<title>Electronics notes</title>
	<!-- META_INSERT -->
	<meta name="description" content="Electronics notes on resistors, with resistor colour code interactive javascript application, wheatstone bridges applied to sensing, amplifiers, capacitors, inductors and circuit analysis using things like Kirchoff's voltage and current laws">
	<!-- CSS_INSERT -->
	<!-- JAVASCRIPT_INSERT -->
	<!-- MATHJAX -->
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']]
			},
			displayAlign: "left",
			displayIndent: "2em"
		});
	</script>

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>

	<script>
		if (typeof(com_JEHTech_www_Canvas) !== 'undefined') {
			jCanv = com_JEHTech_www_Canvas();

			function JEHResistor(owner, x, y, width, height, numBands) {
				jCanv.CanvasElement.call(this, owner, null);
				this.x = x;
				this.y = y;
				this.width = width;
				this.height = height;
				console.log("CREATE WITH " + numBands + " BANDS");
				this.numBands = numBands;
				this.bandColours = new Array(numBands);
				for( var i=0; i < numBands; ++i)
					this.bandColours[i] = null;
				this.r1  = 0;
				this.r2  = 0;
				this.tol = 0;
				this.mul = 0;
			}

			JEHResistor.prototype =
				Object.create(jCanv.CanvasElement.prototype, {
					constructor: {
						value: JEHResistor
					}
				});

			JEHResistor.prototype.getResistanceValue = function () {
				if( this.r1 == 0 || this.r2 == 0 || this.mul == 0)
					return 0;
				else
					return (this.r1 + this.r2) * this.mul;
			}

			JEHResistor.prototype.setBandColour = function(bandNum, bandColour, val, bartype) {
				if (bandNum >= this.numBands)
					throw "JEHResistor: Band index too large";

				this.bandColours[bandNum] = bandColour;
				this.drawOnCanvas(this._jehCanvasOwner);

				if( bartype == "resistance" ) {
					console.log("SETTING RES");
					if(bandNum == 0)      this.r1 = val;
					else if(bandNum == 1) this.r2 = val;
					else                  throw "ERROR: band is not a resistance";
				} else if( bartype == "multiplier" ) {
					console.log("SETTING MUL");
					this.mul = val;
				}
			}

			JEHResistor.prototype.drawOnCanvas = function(jehCanvas) {
				var ctx = jehCanvas.ctx;
				var midY = this.y + this.height/2;

				ctx.clearRect(this.x, this.y, this.width, this.height);

				// Draw the legs
				console.log("Resistor: Drawing legs");
				var legWidth = 10;
				jehCanvas.drawLine(this.x, midY, this.x+legWidth, midY);
				jehCanvas.drawLine(this.x+this.width-legWidth, midY, this.x+this.width, midY);

				// Draw the main resistor body
				console.log("Resistor: Drawing main body");
				gr = ctx.createLinearGradient(0, 0, 0, this.height);
				gr.addColorStop(0,   "#DCDCDC");
				gr.addColorStop(0.5, "#FFFFFF");
				gr.addColorStop(1,   "#DCDCDC");
				ctx.fillStyle = gr;
				ctx.fillRect(this.x+legWidth, this.y, this.width-2*legWidth, this.height);
				ctx.beginPath();
				ctx.strokeStyle = "black";
				ctx.lineWidth = 1;
				ctx.rect(this.x+legWidth, this.y, this.width-2*legWidth, this.height);
				ctx.stroke();

				// Draw the colour code bars
				console.log("Drawing the " + this.numBands + " colour bars");
				var bandWidth = 15;
				var spacerWidth = ((this.width-2*legWidth) - this.numBands*bandWidth) / (this.numBands + 2);
				for(var i = 0; i < this.numBands; ++i) {
					extraSpace = (i == (this.numBands - 1)) ? spacerWidth : 0;
					console.log(extraSpace);
					if (this.bandColours[i] !== null) {
						ctx.fillStyle = this.bandColours[i];
						ctx.fillRect(this.x+legWidth+spacerWidth*(i+1)+bandWidth*i+extraSpace, this.y, bandWidth, this.height);
					}
					ctx.beginPath();
					ctx.strokeStyle = "black";
					ctx.lineWidth = 1;
					ctx.rect(this.x+legWidth+spacerWidth*(i+1)+bandWidth*i+extraSpace, this.y, bandWidth, this.height);
					ctx.stroke();
				}
			}

			$(function(){
				var jCanvas = new jCanv.Canvas("#myCanvas", null);
				console.log(jCanvas);
				var bwidth = 60;
				var bgap = 10;
				var bheight = 25;
				var colours = ['gold', 'silver', 'black', 'brown', 'red', 'orange', 'yellow', 'green', 'blue', 'violet', 'gray', 'white'];
				var tolerances = [10, 5, 0, 1, 2, 0, 0, 0.5, 0.25, 0.1];
				var numberOfResistanceBands = 2;

				var totalNumberOfColumns = 3 + numberOfResistanceBands;
				var totalGridWidth = totalNumberOfColumns * bwidth + totalNumberOfColumns * (bgap-1);

				var resistorWidth = 200;
				var resistorX = (totalGridWidth - resistorWidth)/2;
				var resistorY = 5;
				var resistor = jCanvas.addObject(new JEHResistor(jCanvas, resistorX, resistorY, resistorWidth, 40, 4));

				var txtBoxY = resistorY + resistor.height + 20;
				var txtBox = jCanvas.addObject(new jCanv.ValueBox(jCanvas, resistorX, txtBoxY, resistor.width, bheight, "Select all colour bands", "", "Ohms", {lineColour: null, text: "james"}));

				var gridYOffset = txtBoxY + bheight + 20;
				console.log("########");
				console.log(gridYOffset);
				var gridXOffset = 0;
				for (var rowIdx = 0; rowIdx < 12; ++rowIdx)
				{
					var box = null;
					for (var colIdx = 0; colIdx < totalNumberOfColumns; ++colIdx) {
						var bindToClickHandler = true;
						if (colIdx == 0) {
							bindToClickHandler = false;
							box = jCanvas.addObject(new jCanv.Box(
								jCanvas,
								(bwidth + bgap) * colIdx + gridXOffset,
								(bheight +bgap) * rowIdx + gridYOffset,
								bwidth,
								bheight,
								{
									lineColour: null,
									fillColour: null,
									text: colours[rowIdx]
								},
								null
							));
						}
						else if(colIdx <= numberOfResistanceBands) {
							if( rowIdx > 1 ) {
								var resistance =  (rowIdx-1) * Math.pow(10, numberOfResistanceBands - colIdx);
								box = jCanvas.addObject(new jCanv.Box(
									jCanvas,
									(bwidth + bgap) * colIdx + gridXOffset,
									(bheight +bgap) * rowIdx + gridYOffset,
									bwidth,
									bheight,
									{
										lineColour: "black",
										fillColour: colours[rowIdx],
										text: resistance.toString(),
										textColour: colours[rowIdx] !== "black" ? "black" : "white"
									},
									{
										value:      resistance,
										type:       "resistance",
										bandIdx:    colIdx - 1,
										bandColour: colours[rowIdx]
									}
								));
							}
						}
						else if(colIdx == numberOfResistanceBands + 1) {
							if( rowIdx < 10 ) {
								var multiplierValue = Math.pow(10, rowIdx -2);
								box = jCanvas.addObject(new jCanv.ValueBox(
									jCanvas,
									(bwidth + bgap) * colIdx + gridXOffset,
									(bheight +bgap) * rowIdx + gridYOffset,
									bwidth,
									bheight,
									multiplierValue,
									"",
									"",
									{
										lineColour: "black",
										fillColour: colours[rowIdx],
										textColour: colours[rowIdx] !== "black" ? "black" : "white"
									},
									{
										value: multiplierValue,
										type:  "multiplier",
										bandIdx:    colIdx - 1,
										bandColour: colours[rowIdx]
									}
								));
							}
						}
						else {
							if(rowIdx in {0:0, 1:1, 3:3, 4:4, 7:7, 8:8, 9:9}) {
								box = jCanvas.addObject(new jCanv.ValueBox(
									jCanvas,
									(bwidth + bgap) * colIdx + gridXOffset,
									(bheight +bgap) * rowIdx + gridYOffset,
									bwidth,
									bheight,
									tolerances[rowIdx],
									"Â±",
									"%",
									{
										lineColour: "black",
										fillColour: colours[rowIdx],
										textColour: colours[rowIdx] !== "black" ? "black" : "white"
									},
									{
										value: multiplierValue,
										type:  "tolerance",
										bandIdx:    colIdx - 1,
										bandColour: colours[rowIdx]
									}
								));
							}
						}

						if(bindToClickHandler) {
							box.bindToEvent(jCanv.Canvas.prototype.EVENT_TYPES.click, function() {
									console.log("Button clicked...");
									console.log(this);
									if(this.opaqueUserData !== null) {
										resistor.setBandColour(
											this.opaqueUserData.bandIdx,
											this.opaqueUserData.bandColour,
											this.opaqueUserData.value,
											this.opaqueUserData.type);
										var res = resistor.getResistanceValue();
										if( res > 0 )
											txtBox.setValue(res);
									}
								});
						}
					}
				}
				//jCanvas.fit(10);
				jCanvas.render();
			});
		}
	</script>
</head>

<body>
	<div id="header">
		-- This is JEHTech --
	</div>

	<div id="sidebar">
		<h1 class="title">Links...</h1>
		<div id="includedContent"></div>
	</div>

	<div id="content">
		<h1 class="title">Electronics Notes...</h1>



		<!-- --------------------------------------------------------------------------------------- -->
		<h2>Page Contents</h2>
		<div id="page_contents">
		</div>

		<h2>References</h2>
		<div>
			<ul>
				<li>REF(`REF_KHAN_CAP_PULSE', `Capacitor i-v equation in action'), Khan Academy.</li>
				<li>REF(`REF_KHAN_CAP_EQUATIONS', `Derivation of Charging and Discharging Equations for RC Circuit'), JKTekker, YouTube.com.</li>
				<li>REF(`REF_SO_CAP_EQUATIONS', `Deriving the formula from 'scratch' for charging a capacitor'), StackOverflow.</li>
				<li>REF(`REF_SO_I_SRC', `What exactly is a current source?'), StockOverflow.</li>
				<li>REF(`REF_BATT_INT_RES', `Battery Internal Resistance'), LeanAboutElectronics.com.</li>
				<li>REF(`REF_UTUBE_CIRC_ANAL', `Essential & Practical Circuit Analysis: Part 1- DC Circuits'), Solid State Workshop, YouTube.com.</li>
				<li>REF(`REF_NPN_CURVES', `NPN Curves (seems broken?)')</li>
				<li>REF(`REF_UDEMY_ROBOTS', `Electricity & electronics - Robotics, learn by building'), Ian Juby, Udemy.com.</li>
				<li>REF(`REF_NPN_INTRO', `Introduction to NPN Transistor'), The Engineering Projects.</li>
				<li>REF(`REF_TRANS_CONFIGS', `Transistor Configurations: circuit configurations'), ElectonicsNotes.</li>
				<li>REF(`REF_2N2222', `2N2222; 2N2222A Data Sheet'), Philips Semiconductors.</li>
				<li>REF(`REF_NPN_ELECTRONICS_TUTS', `NPN Transistor'), ElectronicsTutorials.</li>
				<li>REF(`REF_CIRCUIT_LAB', `Circuit Lab Website').</li>
				<li>REF(`REF_CIRCUIT_LAB_BOOK', `Ultimate Electronics eBook').</li>
				<li>REF(`REF_CALC_RESISTOR_FOR_TRANSITOR', `Calculating resistor value for transistor'), StackOverflow.</li>
				<li>REF(`REF_CE_TRANSITOR_CONFIG', `Common Emitter Connection (or CE Configuration)'), Circuit Globe.</li>
				<li>REF(`REF_KHAN_PASSIVE_SIGN', `Sign convention for passive components'), Khan Academy.</li>
				<li>REF(`REF_LABEL_V_I_NODE', `Labeling Voltages, Currents, and Nodes'), Ultimate Electronics eBook.</li>
				<li>REF(`REF_POW_VS_ENERGY', `The Great "Power Vs. Energy" Confusion'), Rob Lewis, CleanTechnica.</li>
				<li>REF(`REF_KHAN_ELEC_POT', `Electric potential energy'), Khan Academy, YouTube.com.</li>
				<li>REF(`REF_TEXTBOOK_KVL_STACK_QUESTION', `Textbook's way of determining KVL polarities'), StackOverflow.</li>
				<li>REF(`REF_HYPER_PHYS_ELECTMAG', `Electricity And Magnetism'), HyperPhysics</li>
			</ul>
		</div>


		<!-- --------------------------------------------------------------------------------------- -->
		<h2>Charge, Current, Voltage, Power</h2>
		<div>
			<h3>References</h3>
			<div>
				<ul>
					<li>REF(`REF_POW_VS_ENERGY', `The Great "Power Vs. Energy" Confusion'), Rob Lewis, CleanTechnica.</li>
					<li>REF(`REF_KHAN_ELEC_POT', `Electric potential energy'), Khan Academy, YouTube.com.</li>
					<li>REF(`REF_UTUBE_CIRC_ANAL',`Essential &amp; Practical Circuit Analysis: Part 1- DC Circuits'), Solid State Workshop, YouTube.</li>
					<li>REF(`REF_HYPER_PHYS_ELECTMAG', `Electricity And Magnetism'), HyperPhysics</li>
				</ul>
			</div>

			<h3>Conventional Current And Charge</h3>
			<div>
				<p>
					<img src="##IMG_DIR##/conventional_current.png" width="150" style="float:left">
					Historically positive charge moves through the circuit from the positive to negative terminals. This is called <em>conventional</em> current.
					We now know that it is, in fact, the flow of electrons from the negative to positive terminals that is current. Due to the historical precedent,
					current is still often shown as conventional current.
				</p>
				<p>
					From Wikipedia: <q>Conventional current flows from the positive pole (terminal) to the negative pole. Electrons flow from negative to positive. In a direct current (DC) circuit, current flows in one direction only, and one pole is always negative and the other pole is always positive. In an alternating current (AC) circuit the two poles alternate between negative and positive and the direction of the current (electron flow) reverses periodically.</q>.
				</p>
				<p>
					Informally, <b>current is a flow of electric charge</b>.
				</p>
				<p>
					Current, $i$, is the amount of charge, $q$, that moves through a point in the circuit at any time.
					$$i = \frac{\mathrm dq}{\mathrm dt}$$
					Charge, $q$, is measured in Coulombs. One electron has a charge of $-1.6 \times 10^{-19}$ Coulombs. This is the smallest
					unit of charge possible.
				</p>
				<p>
					We can integrate the above to get $I = \frac{Q}{t}$ and therefore $Q = It$.
				</p>
			</div>

			<h3>Electric Fields, Energy, Work &amp; Voltage</h3>
			<div>
				<p>
					Let's revisit the terms energy, work and power.<br/>
				</p>
				<p style="padding-left: 16pt;">
					<b>Energy</b> is the ability to do work.<br/>
					<b>Work</b> is the force that must be exerted to move a mass a certain distance.<br/>
					<b>Power</b> is the rate at which energy is generator/consumed.
				</p>

				<h4>Energy &amp; Work</h4>
				<p>
					<b>Energy</b> is defined as the ability to do work. Work is what transfers energy from one form to another (energy is never destroyed).
					For example, work can turn potential energy into kinetic energy.
				</p>
				<p>
					Energy is measured in Joules. 1 Joule is the energy transferred when a force of 1 Newton is applied to an
					object and moves it through a distance on 1 meter.
				</p>

				<p>
					<b>Work</b> is defined as...

					$$
					W = F\cdot\Delta{\text{distance}}
					$$
				</p>


				<h4>Power</h4>
				<p>
					<b>Power</b> gives that <em>rate</em> at which energy is used/produced. Power measures how <em>fast</em> the work gets done.
					Put another way, <em>working faster == more power</em>.
				</p>
				<p>
					<img src="##IMG_DIR##/work_evergy_power.svg" alt="Image showing work and energy vs power"/>
				</p>

				<h4>Electric Fields</h4>
				<p>
					Electric fields are created by charges. The field itself produces an electric force per unit charge, the direction
					of which is defined as being the force it would exert on a positive test charge [REF(`REF_HYPER_PHYS_ELECTMAG', `REF')].

					$$
					\vec{E} = \frac{\vec{F}}{q}
					$$

					The electric field, $\vec{E}$, as defined above, is force per unit charge and is measured in Newtons/Coulomb or
					Volts/Meter, where $\vec{F}$ is electric force in Newtons and $q$ is charge in Coulombs.
				</p>
				<p>
					But what is force? It is measured in Newtons, where 1 Newton is the force required to give a 1 kg mass an acceleration
					of 1 meter per second per second. I.e. $1 \text{Newton} = 1\text{kg} \cdot /frac{m}{s^2}$. Remember it is the electric
					field that generates this action-at-a-distance force.
				</p>

				<h4>Voltage</h4>
				<p>
					Voltage, $V$, is the amount of work (in Joules) that must be done per unit charge to move between two points in a, electric field.
					$$V_{ab} = \frac{\mathrm dw}{\mathrm dq}$$
					I.e. 1 volt is 1 Joule per Coulomb.
				</p>
				<p>
					<img src="##IMG_DIR##/electric_field.png">
				</p>
				<p>
					If we integrate both sides of the abote w.r.t to charge we get:
					$$VQ = W\ \therefore W = QV$$
				</p>
				<p>
					Note that voltages are relative, which is why the negative terminal of the battery can be negative - it depends what
					the reference voltage you are measuring against is - e.g. if ground is midway between the two terminals then they will
					have voltages -A and +A respectively.
				</p>

			</div>

			<h3 style="clear: both;">Energy &amp; Power In Terms Of Current &amp; Voltage</h3>
			<div>
				<p>
					Give these definitions we can see how they are defined for electronics. Using some crude (read incorrect as we're using multiplication not integration to make it seem simpler) we see:

					$$
					\begin{align}
					E &= IVt \\
					&= \frac{\mathrm dq}{\mathrm dt} \cdot \frac{\mathrm dw}{\mathrm dq} \cdot t\\
					&= \frac{\mathrm dW}{\mathrm dt} \cdot t \\
					&= W
					\end{align}
					$$

					So energy is indeed the total work required to move a charge between two points in an electric field.

					And because

					$$
					P = IV = \frac{E}{t}
					$$

					We can see that electrical power (measured in <b>Watts</b>) is the rate of consumption/generation of electrical energy.
				</p>
				<p>
					When current flows through a resistor it dissipates power in the form of heat. When it flows
					through an LED it dissipates power in the form of both heat and light.
				</p>
				<p>
					Power, measured in <b>watts</b>, is also defined as:
					$$
					P = IV = I^2R = \frac{V^2}{R}
					$$
				</p>
				<p>
					Resistors usually have a power rating (the power they can dissipate) associated with them.
					This means that if you know
					the resistor's power rating you can calculate the maximum voltage or current you can
					put across/through them without breaking the resistor.
				</p>
				<p>
					Note that electric potential energy is measured with respect to a reference point. In the
					image below one can see that the voltage either side of the resistor is measured w.r.t ground.
					Ground is the normal reference point, but any point in a circuit can be used as long as it is
					used consistently.
				</p>
				<p>
					<img src="##IMG_DIR##/voltage_needs_a_reference.svg" alt="Measuring potential requires a reference voltage, usually ground"/>
				</p>
				<p>
					Note then, that potential <em>difference</em>, is the difference between to points, each of which has
					a potential <em>energy</em> w.r.t to a reference. The potential <em>difference</em> is the difference between these
					two points, but <em>only make sense if the potential of each point is measured w.r.t to the same reference</em>.
				</p>
			</div>

			<h3 style="clear: both;">Ohm's Law</h3>
			<div>
				<p>Ohm's law gives the relationship between voltage, current and resistance:
				</p>
				<p>
					$$V = IR$$
				</p>
			</div>


			<h3 style="clear: both;">Passive Sign Convention</h3>
			<div>
				<p>
					<b>See the following references:</b>
				</p>
				<ol>
					<li>REF(`REF_KHAN_PASSIVE_SIGN', `Sign convention for passive components'), Khan Academy.</li>
					<li>REF(`REF_LABEL_V_I_NODE', `Labeling Voltages, Currents, and Nodes'), Ultimate Electronics eBook.</li>
				</ol>
				<p>
					&quot;Passive&quot; describes components that do not create power and do not amplify signals. For example, resistors, capacitors
					and inductors are passive components because they do not create power and do not amplify signals.
				</p>
				<p>
					Sometimes a voltage source, like a battery, can be said to be passive because although it creates power it does not amplify signals.
				</p>
				<p>
					The sign convention for passive components is that <b>the current goes into the positive terminal (terminal with higher V)</b>.
				</p>
				<p>
					When analysing a circuit, as we'll see below when using Kirchhoff's laws, we have to label each component with a voltage and current.
					The passive sign convention makes sure that when we use Ohm's law, it comes out with the <em>correct sign</em>.
				</p>
				<p>
					Take the following resistor. If we label the voltage across it as so:
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_passive_sign_voltage_first_then_determine_current_1.png">
				</p>
				<p>
					We then know that, using the passive sign convention, that the current must be labelled so that it flows into the
					positive terminal, like so:
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_passive_sign_voltage_first_then_determine_current_2.png">
				</p>
				<p>
					We're clearly talking about <em>conventional current</em> here, by the way.
				</p>
				<p>
					What it means is that if we labelled either the voltage or the current incorrectly, Ohm's law will give a negative answer, because
					if we label the current going into the negative terminal, we must consider it to be negative current as it is going in the
					wrong direction. Why would we label a circuit wrong? Because sometimes in circuit analysis we do not know the polarity of an
					element, so we just guess, and then if the sign comes out negative we know we labeled the polarity wrong and change the labelling.
				</p>
				<p></p>
				<blockquote>
					<p>
						The convention to label current as positive when flowing into the + terminal is arbitrary, but it makes a few things work out simply and consistently:
					</p>
					<ol>
						<li>First, V-I relationships like the definition of Ohm's Law don't need a minus sign.</li>
						<li>Second, power consumption is defined correctly with $P = vi$, where $P>0$ for ordinary components which are consuming power like a resistor, and $P<0$ for components which are supplying power like a battery.</li>
					</ol>
					<footer>-- REF(`REF_LABEL_V_I_NODE', `Labeling Voltages, Currents, and Nodes'), Ultimate Electronics eBook.</footer>
				</blockquote>
				<p></p>
				<p>
					Why would incorrectly labelling a branch (i.e., we labelled the terminal that current was going into as negative (-)) require a sign change? Simply because
					of this convention! If current moving in one direction is positive then moving in the other direction must be negative!
				</p>
			</div>

			<h3 style="clear: both;">Kirchhoff's Laws</h3>
			<div>
				<h4>Nodes, Branches and Loops</h4>
				<p>
					<b>Branch</b>: A branch represents a single element such as a resistor. I.e., any two terminal element.
				</p>
				<p>
					<b>Node</b>: A node is the point of connection between 2 or more branches. Every point going into the
					node, at the node, is at the same potential.
				</p>
				<p>
					<b>Loop</b>: A loops is any closed path in a circuit. Starts and ends at the same node
					and does not pass through a node more than once.
				</p>
				<p>
					<img src="##IMG_DIR##/loops_nodes_branches.png" alt="Branches, loops and nodes in a ciruite"/>
				</p>

				<h4>The Laws...</h4>
				<p>
					Two important laws: <em>Kirchoff's voltage law</em> and <em>Kirchoff's current law</em>.
				</p>
				<h5>KCL</h5>
				<p>
					Kirchoff's current law says that the <b>sum of currents flowing into a node must equal the sum of currents leaving</b> a node.
					This is often expressed in another way: the sum of currents entering and leaving a node must always be zero. This works because we label, by convention, all currents entering the node as positive and all currents leaving the node as negative.
				</p>
				<p>
					<img src="##IMG_DIR##/kcl_kvl.png" alt="KCL"/>
				</p>
				<p>
					This can be written most compactly as:

					$$
						\sum_{j=0}^{n} I_j = 0
					$$
				</p>
				<p>
					Lets look at the following example REF(`REF_UTUBE_CIRC_ANAL',`[Ref]'):
				</p>
				<p>

				</p>
				<h5>KVL</h5>
				<p>
					Kirchoff's voltage law says that the <b>sum of voltages around a closed circuit must be zero</b>,
					where the sign on each voltage is the polarity of the terminal encountered first as the loops is
					traveled around. Another way of saying it is that one way to assign the +'s and -'s is REF(`REF_KIRCHOFF', `[Ref]'):
				</p>
				<ol>
					<li>if the positive (+) side of the voltage is encountered first, assign a positive "+" sign to the voltage across the element.</li>
					<li>If the negative (-) side of the voltage is encountered first, assign a negative "-" sign to the voltage across the element.</li>
				</ol>
				<p>
					However, for passive components, one might not know apriori how to label the terminals. The choice can be arbitrary, so long as the
					passive sign convention is used, such that in a loop, because we know current can only flow in one direction, whatever arbitrary
					direction we decided to think of it as going, if it enters the positive terminal then the result is a positive current, otherwise
					it is a negative current. We will see an example below.
				</p>
				<p>
					<img src="##IMG_DIR##/kvl.png" alt="KVL"/>
				</p>
				<p>
					This can be written most compactly as:

					$$
						\sum_{j=0}^{n} V_j = 0
					$$
				</p>
				<p>
					Say, for example, that $V_1$ is 12V, R2 is $4 \Omega$, R3 is $6 \Omega$, $V_2$ is 3V and R5 is $1 \Omega$.
					Then we know $-12 + 4i + 6i - 4 + i = 0$. We can then work out the current in the circuit using KVL
					by re-arranging the formula.
				</p>
				<p>
					In this example it was trivial to know, apriori, what direction the current would flow. Sometimes we may not.
				</p>
				<p><u>Example #1</p>
				<p>
					The following is
					a simple example from the book "Fundamentals of Electric Circuits", fourth edition. This demonstrates the way that passive
					components can have their terminals labelled in an "arbitrary" fashion of our choosing (as long as we consistently apply
					the passive sign convention to know whether current is + or - whilst considering each branch). It stumped me for a while,
					so I asked, REF(`REF_TEXTBOOK_KVL_STACK_QUESTION', `and got some very helpful answers on good old StackOverflow').
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_kvl_book_ex_1.png">
				</p>
				<p>
					Conventional current flow is used, as indicated by the circular arrow. Going around the loop, because the current enters the
					negative terminal of R2, the current current and voltage <em>must be negative!</em>. See the section "Passive Sign Convention" above.
				</p>
				<p>
					By Ohms, law $V = iR$, we therefore know that $v_2 = -3i$. Note it is <em>negative</em>!
				</p>
				<p>
					So, going around the loop we get $v_1 = 2i$ and $v_2 = -3i$. Applying KVL gives us,

					$$
					\begin{align}
					-20 - v_1 - v_2 &= 0 \\
					\therefore -20 -2i + 3i &= 0
					\end{align}
					$$

					And thus, $i = 4\text{A}$, $v_1 = 8\text{V}$ and $v_2 = -12\text{V}$.
				</p>
				<p>
					We know that the voltage drop across $v_2$ isn't really negative. This means we just labelled the terminals incorrectly, so to fix it,
					just flip the labels around and we get the correct positive voltage for $v_2$ :)
				</p>
				<p><u>Example #2</p>
				<p>
					Another example. In this example we are required to find the voltage supplied by the voltage controlled voltage supply,
					which provides $2v_0$ volts. Hence we need to find out what $v_0$ is.
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_kvl_book_ex_2.png">
				</p>
				<p>
					The power supplies can use the polarities already indicated on them. The
					resistors we can assign polarities arbitrarily to, but the ones shown are the ones shown in the book's example,
					so lets use them!
				</p>
				<p>
					Using KVL:

					$$
					-12 + v_r + 2v_0 - 4 - v_0 = 0
					$$

					Where, due to the passive sign convention:

					$$
					v_0 = -6i,\ v_r = +4i
					$$

					Substituting these values in:

					$$
					-12 + 4i -12i -4 + 6i = 0 \\
					\therefore 2i = 16 \\
					\therefore i = -8A
					$$

					This means that we labelled the current flow in the wrong direction. So, the current
					is $8A$ is the anti-clockwise direction and the polarity labels on the $6\Omega$
					resistor are switched.

					$$
					v_o = 6i = 6 * 8 = 48V
					$$

					This means that the voltage controlled power supply is supplying $96$ volts!
				</p>
			</div>
		</div>



		<!-- --------------------------------------------------------------------------------------- -->
		<h2>Resistance</h2>
		<div>
			<p>
				Resistors control the current that flows through a part of a circuit, as described by Ohm's Law ($V = IR$). Using
				the formula one can see that as either resistance increases, current falls, and vice versa.
			</p>
			<h3 style="clear:both;">Resistor Colour Codes</h3>
			<div>
				<canvas id="myCanvas" width="360" height="540" style="margin: 10px; border:1px solid #000000; float: left;">
				</canvas>
				<p>
					In the drawing to the left you can click on the value-boxes to change the colour bands on
					the resistor to find out the resistance represented by the colour encoding. Note it only shows
					a 4-band resistor. 5 and 6 colour bands are possible but not shown here.
				</p>
				<p>
					Note: Sometimes the click event on the canvas doesn't fire... not quite sure why that is. If first click
					doesn't work, persevere :)
				</p>
				<p>
				Some popular ways of remembering the resistor colour codes include
				&quot;<u>B</u>ad <u>B</u>oys <u>R</u>avish <u>O</u>ur <u>Y</u>oung <u>G</u>irls <u>B</u>ut <u>V</u>iolet <u>G</u>ives <u>W</u>illingly&quot;
				and my fav,
				&quot;<u>B</u>ad <u>B</u>ooze <u>R</u>ots <u>O</u>ur <u>Y</u>oung <u>G</u>uts, <u>B</u>ut <u>V</u>odka <u>G</u>oes <u>W</u>ell&quot;.
				</p>
			</div>
			<h3 style="clear:both;">Resistor's In Series</h3>
			<div>
				<img src="##IMG_DIR##/resistors_in_parallel.png" width="300" style="float:left">
				<p>
					Resistors in series can be &quot;collapsed&quot; into an equivalent single resistor with a resistance that
					is the sum of all the resistances of the individual resistors.
				</p>
				<p>
					Using <em>Kirchoff's voltage law</em>:

					$$V_1 + V_2 + V3 - V_s = 0$$

					Using $V = iR$ we can substitute in for the individual voltages across each resistor. Note that because
					this is a closed loop the current though each resistor will be the same (as there is no path in which
					the current can &quot;split&quot; up).

					$$iR_1 + iR_2 + iR3 - V_s = 0$$
					$$\therefore V_s = iR_1 + iR_2 + iR3$$

					Now, $V_s$ can also be re-written using $V = iR$ as $V_s = iR_t$, where $R_t$ is the equivalent, total,
					resistance of the resistors in series...

					$$\therefore iR_t = iR_1 + iR_2 + iR3$$
					$$\mathbf{\therefore R_t = R_1 + R_2 + R_3}$$
				</p>
			</div>

			<h3 style="clear:both;">Resistor's In Parallel</h3>
			<div>
				<img src="##IMG_DIR##/resistors_in_par.png" width="400" style="float:left">
				<p>
					Resistors in parallel can also be &quot;collapsed&quot; into an equivalent single resistor...
				</p>
				<p>
					Using <em>Kirchoff's current law</em> we can say that $i_t = i_1 + i_2 + i_3$. Using $V = iR$,
					we can say the following:

					$$
					\begin{array}{ccc}
						V = i_1R_1 & V = i_2R_2 & V = i_3R_3 \\
						\therefore i_1 = \frac{V}{R_1} & \therefore i_2 = \frac{V}{R_2} & \therefore i_3 = \frac{V}{R_3}
					\end{array}
					$$

					Substituting the above back into $i_t = i_1 + i_2 + i_3$, gives us the following.

					$$
					i_t = \frac{V}{R_1} + \frac{V}{R_2} + \frac{V}{R_3}
					$$

					And, of course, $i_t$ can also be re-written, giving the solution:

					$$
					\frac{V}{R_t} = \frac{V}{R_1} + \frac{V}{R_2} + \frac{V}{R_3}
					$$
					$$
					\mathbf{\therefore \frac{1}{R_t} = \frac{1}{R_1} + \frac{1}{R_2} + \frac{1}{R_3}}
					$$
				</p>
			</div>

			<h3 style="clear:both;">Voltage Divider</h3>
			<div>
				<a name="voltage_divider"></a>
				<img src="##IMG_DIR##/voltage_divider.png" width="200" style="float:left"/>
				<p>
					Using Ohm's law we know the following.
					$$V_1 = iR_1 \implies i = \frac{V_1}{R_1}$$
					$$V_2 = iR_2 \implies i = \frac{V_2}{R_2}$$

					Using Kirchoff's voltage law, and substituting in the above, we know that,
					$$\begin{align}
					V_t & = V_1 + V_2 \\
					    & = iR_1 + iR_2 \\
						 & = i(R_1 + R_2)
					\end{align}$$

					This means that we can say,

					$$i = \frac{V_t}{R_t} = \frac{V_1}{R_1} = \frac{V_2}{R_2}$$

					Substituting $i = \frac{V_1}{R_1}$ into $V_t = i(R_1 + R_2)$ gives...

					$$V_t = \frac{V_1}{R_1}(R_1+R_2)$$
					$$\mathbf{\therefore V_1 = V_t \times \frac{R_1}{R_1+R_2}}$$

					Substituting $i = \frac{V_2}{R_2}$ into $V_t = i(R_1 + R_2)$ gives...

					$$V_t = \frac{V_2}{R_2}(R_1+R_2)$$
					$$\mathbf{\therefore V_2 = V_t \times \frac{R_2}{R_1+R_2}}$$

					In words, we can say that <em>the voltage across the second resistor is proportional to the ratio of the second resistance to the total resistance</em>.
				</p>
				<p>
					One issue to be aware of is that any load placed across $R_2$, i.e., in parallel with $R_2$, will
					change the effective resistance of that node (remember resistors in parallel can be &quot;collapsed&quot; into an equivalent
					single resistor). Therefore, be aware that the load across $R_2$ will also influence the ratio of voltage division.
				</p>
				<iframe src="electronics_resistors.html" style="border: 0px; width:260px; height: 310px; padding: 0px; margin: 0px;">
				</iframe>
			</div>

			<h3 style="clear:both;">Current Divider</h3>
			<div>
				<img src="##IMG_DIR##/current_divider.png" width="250" style="float:left">
				<p style="float:left">
					$$i_tR_t = i_1R_1 $$
					$$\begin{align}
					i_1 & = \frac{i_tR_1}{R_1} \\
					    & = \frac{\frac{R_1R_2}{R_1+R_2}}{R_1} \times i_t \\
						 & = \frac{R_2}{R_1+R_2} \times i_t
					\end{align}$$
				</p>
			</div>

			<h3 style="clear:both;">The Wheatstone Bridge</h3>
			<div>
				<img src="##IMG_DIR##/wheatstone_bridge.png" width="300" style="float:left">
				<p>
					The <a href="http://www.ti.com/lit/ml/slyp163/slyp163.pdf" target="_blank">Wheatstone Bridge</a> is a circuit for measuring resistance
					very accurately. This material is based on the link to the Texas Instrument tutorial...
				</p>
				<p>
					Using Kirchoff's voltage law around the loop consisting of $R_2$, $V_{out}$ and $R_4$ we get the following.

					$$-V_2 + V_{out} + V_4 = 0$$
					$$\therefore V_{out} = V_2 - V_4$$

					We can find the voltage across $R_2$ and $R_4$ by using the formula for voltage dividers: $R_1$ and $R_2$ are
					one voltage divider and $R_3$ and $R_4$ are the other voltage divider. Using the voltage divider formula we get
					the following two results:

					$$V_2 = \frac{R_2}{R_1+R_2} \times V_t, \qquad V_4 = \frac{R_4}{R_3+R_4} \times V_t$$

					Here $V_t$ is the supply voltage. Substituting these into the first formula we get...

					$$
					\begin{align}
					V_{out} & = \left(\frac{R_2}{R_1+R_2} \times V_t\right) - \left(\frac{R_4}{R_3+R_4} \times V_t\right) \\
					        & = \left(\frac{R_2}{R_1+R_2} - \frac{R_4}{R_3+R_4}\right) \times V_t
					\end{align}
					$$

					If three out of the four resistances are known and the current across the $V_{out}$ branch is zero, the
					third resistance can be calculated.
				</p>
				<p>
					Let's say that we don't know the resistance of $R_3$. If we set all the other resistors to be equal so that
					$R_1 = R_2 = R_4$, then the above formula simplified to the following....

					$$V_{out} = \left(\frac{1}{2} - \frac{R_k}{R_u+R_k}\right) \times V_t$$

					Where $R_k$ is the known resistance and $R_u$ is the unknown resistance. This assumes that $R_u$ is roughly equal to $R_1$
					and that all $R_k$ resistors are very closely matched.
				</p>

				<p>
					A simple re-arrangement gives us...

					$$V_{out} = \frac{1}{2} \times V_t - \frac{R_k}{R_u+R_k} \times V_t$$
				</p>
				<p>
					In the above, $V_{out}$, $V_t$, and $R_k$ are all known. We know $V_{out}$ because we can measure it and the
					other known parameters are already set a-priori. With more simple re-arrangement we get...

					$$0.5V_t - V_{out} = \frac{R_k}{R_u+R_k} \times V_t $$
					$$\therefore \frac{0.5V_t - V_{out}}{V_t} = \frac{R_k}{R_u+R_k} $$
					$$\therefore \frac{V_t}{0.5V_t - V_{out}} = \frac{R_u + R_k}{R_k} $$
					$$\therefore \frac{V_t \cdot R_k}{0.5V_t - V_{out}} = R_u + R_k $$
					$$\therefore \mathbf{R_u = \frac{V_t \cdot R_k}{0.5V_t - V_{out}} - R_k} $$
				</p>

				<img src="##IMG_DIR##/wheatstone_is_non_linear.png" width="400" style="float:left;">

				<p>
					And now we can calculate the unknown resistance... why is this useful? Because <em>this unknown resistance is our sensor</em>.
					It could be a thermistor, LDR, or whatever... something that changes resistance due to the thing we're trying to measure.
				</p>
				<p>
					One thing to note is that the $V_{out}$ of the Wheatstone Bridge is non-linear as the figure to the
					left shows: $V_{out}$ does not change linearly with changes in the unknown resistance $R_u$! In the figure I just
					picked pretty arbitrary values for the various knowns.
				</p>
				<p>
					So... why use this rather complex arrangement to measure an unknown resistance when we could do
					the same using a simple voltage divider? The answer lies in the <em>sensitivity</em> of the measurement
					system. This is covered in the next section.
				</p>
			</div>
		</div> <!-- End H2 -->



		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear: both;">Voltage Sources &amp; Current Sources, Ideal v.s. Real World</h2>
		<div>
			<h3>Voltage Sources</h3>
			<div>
				<p>
					An <em>ideal</em> voltage source is one that supplies constant potential, no matter
					what load is connected to it. I.e., it produces whatever current is necessary to
					maintain the voltage across it REF(REF_SO_I_SRC, `[Ref]'):
				</p>
				<p>
					<img src="##IMG_DIR##/ideal_voltage_source.svg" alt="Image explaining an ideal voltage source"/>
				</p>
				<p>
					But, <a href="electronics-batteries.html">batteries</a>, even power supplies etc etc
					are <em>not</em> ideal. In the real world
					they have a small internal resistance, anywhere between approx 0.1 OHM() to
					2.0 OHM() depending on the battery
					REF(`REF_BATT_INT_RES', `[Ref]'), which means they are modelled more like this:
				</p>
				<p>
					<img src="##IMG_DIR##/nonideal_voltage_source.svg" alt="Image explaining a non-ideal, real world, voltage source"/>
				</p>
				<p>
					It can be seen that because the internal resistance of the battery, is in series with the circuit it is powering,
					i.e., the load (simulated by the resistor), the combination acts like a <a href="#voltage_divider">voltage divider</a>,
					and so the voltage across the load varies with its resistance. I.e.,the battery is not ideal (but its pretty close!)
				</p>
				<p>
					This is why it is always best to measure the voltage across a power supply when it is under load.
				</p>
				<p>
					We can now also understand that an ideal voltage source is one that has zero internal resistance.
				</p>

			</div>

			<h3>Current Sources</h3>
			<div>
				<p>
					An <em>ideal</em> current source is one that always produces the same current, no matter how
					the voltage across it or the resistance of the load it is &quot;feeding&quot; varies, REF(REF_SO_I_SRC, `[Ref]').
				</p>
				<p>
					This is why, incidently, in a circuit you cannot have two current sources in series!
				</p>
			</div>

			<h3>Source Transformations</h3>
			<div>
				<p>
					It is possible to switch out a voltage source in a circuit for a current source and vice-versa
					using source transformation using Thevenin and Norton equivalent ciruits REF(`REF_UTUBE_CIRC_ANAL',`[Ref]').
				</p>
			</div>

			<h3>Superposition</h3>
			<div>
				<p>
					Circuits can have multiple sources. In this case, to determine voltage levels at nodes, the
					principle of superposition can be used:
				</p>
				<ol>
					<li>Set all sources to zero except one,</li>
					<li>Solve the necessary currents and voltages using only that source,</li>
					<li>Repeat the above step for each source</li>
					<li>Add the circuit values together - &quot;superimpose&quot; them onto one another.</li>
				</ol>
				<p>
					Take the following example REF(`REF_UTUBE_CIRC_ANAL',`[Ref]'):
				</p>
				<p>
					<img src="##IMG_DIR##/superposition.svg" alt="Circuit analysis using superposition theorem"/>
				</p>
				<p>
					In the above diagram we get:
					$$
						\begin{align}
						I_1 &= I_1' + I_1'' \\
						I_2 = I_2' + I_2''
						\end{align}
					$$
				</p>
			</div>

			<h3>References</h3>
			<div>
				<ul>
					<li>
						REF(REF_SO_I_SRC, `What Exactly Is A Current Source?'), StackOverflow.com.
					</li>
					<li>
						REF(REF_BATT_INT_RES, `Battery Internal Resistance'), LearningAboutElectronics.com.
					</li>
					<li>
						REF(`REF_UTUBE_CIRC_ANAL',`Essential &amp; Practical Circuit Analysis: Part 1- DC Circuits'), Solid State Workshop, YouTube.
					</li>
				</ul>
			</div>
		</div>



		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">Switches</h2>
		<div>
			<p>
				Switches are defined by the number of poles and throws they have...
			</p>
			<p>
				<b>Poles</b>: A switch pole refers to the number of separate circuits that the switch controls.
			</p>
			<p>
				<b>Throw</b>: The number of throws indicates how many different output connections each switch pole can connect its input to.
				Think of it as how many places a single source can be &quot;thown to&quot;.
			</p>
			<p>
				<img src="##IMG_DIR##/switch_thows_and_poles.png" alt="Picture of switches with different #poles and thows"/>
			</p>
		</div>




		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">Capacitance</h2>
		<div>
			<p>
				A capacitor consists of two conducting plates separated by an insulator (a.k.a. a dielectric).
			</p>
			<p>
				When connected to a voltage source, the source creates a positive charge on one plate
				and a negative one on the other plate:
			</p>
			<p>
				<img src="##IMG_DIR##/capacitor.png" alt="Pici of a capacitor with charge on both plates"/>
			</p>
			<p>
				Charge stored is <b>proportional</b> to applied voltage:
				$$
					Q = CV \implies C = \frac{Q}{V}
				$$
				Where $C$ is called the <b>capacitance</b> of the capacitor and is measured in Farads (F).
				Note that $C$ is the <b>constant of proportionality</b> here!
			</p>
			<p>
				Although, for equations etc., Farads are the expected units, in electronics capacitors in the
				range of nano-Farads to milli-Farads are used. Even milli-Farads are less common. More common
				are nano and micro-Farads.
			</p>
			<p>
				By re-arranging the above we can see that <b>capacitance is the charge per volt that
				the capacitor can store</b>. Thus, the more charge that the capacitor stores per volt, the
				higher its capacitance is. This quantity is dependent on the type of dielectric used,
				the surface area of each plate and the distance between the plates.
			</p>
			<p>
				Recall that current is the amount of charge that moves past a point per unit time. Thus,
				by differentiating w.r.t time, the above, we get the current-voltage relationship of a cap:
				$$
					I = C\frac{\mathrm{d}V}{\mathrm{d}t}
				$$
				This gives us in important property of caps. Because for DC current the voltage does not change,
				$\frac{\mathrm{d}V}{\mathrm{d}t}$ is zero, so a <b>capacitor is an open circuit to DC</b>! (But it
				does charge).
				Because of the definition of a derivative, we also know that the voltage across a cap must
				be smooth - i.e., it cannot change abruptly.
			</p>
			<p>
				Note that real capacitors dissipate their energy over time - they &quot;leak&quot;
			</p>
			<p>
				<b>Capacitors resist abrupt changes in voltage</b>, which is why the function
				as <b>low pass filters</b>.
			</p>
			<p>
				Example graphs showing voltage across a capacitor whilst charging and current
				over time:
			</p>
			<p>
				<img src="##IMG_DIR##/electronics_capacitor_charge_graphs.png" alt="Example graphs showing voltage across a capacitor whilst charging and current over time">
			</p>

			<h3>Energy And Work</h3>
			<p>
				We had previously defined work as $W = QV$, but this assumes a <em>constant voltage and current flow</em>.
				But, as a capacitor charges the voltage and current change with time. At time $t=0$, the charge stored
				by the capacitor is zero, and as the capacitor charges, the voltage across it increases too.
			</p>
			<p>
				Thus, the work required to charge a capacitor, i.e., the work done by the power source, is:
				$$W = \frac{1}{2}QV$$
				We have also said that $Q = CV$, therefore we can re-write the above as,
				$$W = \frac{1}{2}CV^2$$
				And because $V=\frac{Q}{C}$, we can re-write it again as,
				$$W= \frac{1}{2}\frac{Q^2}{C}$$
			</p>

			<h3>Charging Without A Resistor Means Trouble</h3>
			<p>
				If a capacitor is charged without a resistor to limit current the circuit will, at the
				beginning of the charge, be a <b><i>short circuit</i></b>. In the diagrams above, a spark will be seen
				at the switch which will dissipate some of the energy. As we will see below, exactly half of
				the energy is dissipated in the spark and that the maths kinda fails for this scenario...
			</p>
			<p>
				Take the following example...
			</p>
			<p>
				<img src="##IMG_DIR##/cap_5uf_10V_supply_short_citcuit.png" alt="5 micro Farad capacitor short-circuit connected to 10V batt"/>
			</p>
			<p>
				We know the work done by the capacitor when it discharges is defined as follows, giving the following result.
				$$
				\begin{align}
					W &= \frac{1}{2}CV^2 \\
            		  &= \frac{1}{2}\cdot 5\cdot 10^{-6} \cdot 10^2 \\
					  &= 2.5\cdot 10^{-4} \text{Joules}
				\end{align}
				$$

				We should now be able to plug the value for $W$, and $V$ back into the equation for the work done by the battery, $W = \frac{1}{2}QV$:

				$$
					2.5\cdot 10^{-4} = \frac{1}{2}Q\cdot 10 \\
					\therefore Q = 5\cdot 10^{-5} \text{Coulombs}
				$$

				The two do not agree and the reason is that half of the energy is dissipated at the start by the spark at the switch.

			</p>


			<h3>Charging Through A Resistor</h3>
			<p>
				When a capacitor, with a capacitance $C$, charges in series through a resistor of resistance $R$ ohms,
				in $RC$ seconds it will charge to 63% of the supply voltage and in
				$5 \times RC$ seconds it charges to over 99% <a href="http://www.learningaboutelectronics.com/Articles/How-long-does-it-take-to-charge-a-capacitor" target="_blank">[Ref]</a>.
				You get an <em>exponentially decreasing current flow</em> as the <em>resistor draws current</em>
				from the battery and the <em>capacitor stores the current's flowing charge</em> <a href="http://www.columbia.edu/~nas2173/Lab8_CapacitanceAndTheOscilloscopeNS.pdf" target="_blank">[Ref]</a>.

				$$
				\begin{array}{l}
					\tau \ \text{(in seconds)} = RC \\
					\\
					63\% \text{ charge in } 1\cdot RC \text{ seconds} \\
					99\% \text{ charge in } 5\cdot RC \text{ seconds}
				\end{array}
				$$
			</p>
			<p>
				<img src="##IMG_DIR##/capacitor_charge_e.png" alt="Capacitor charging through a resistor"/>
			</p>
			<p>
				Recall KVL: the sum of voltages around a closed circuit must be zero. The dotted arrow
				in the diagram above shows a direction around a closed ciruit, which by KVL means that REF(`REF_SO_CAP_EQUATIONS', `[Ref]'):

				$$
				\begin{array}{l l}
				+V_s(t) - V_r(t) - V_c(t) = 0&\ \text{from KVL law,} \\
				\therefore\  V_s(t) = V_r(t) + V_c(t)&\ \text{by rearrangement,} \\
				\therefore\  V_s(t) = R \cdot I(t) + V_c(t)&\ \text{by substiting from}\ V_r(t) = R \cdot I(t), \\
				\therefore \ V_s(t) - V_c(t) = R \cdot I(t)&\ \bf{\color{blue}{(1)}} &
				\end{array}
				$$

				I.e., <b>the current at time $t$ is proportional to the difference
				in voltages across the supply and the capacitor, the constant of proportionality being the
				resistance.</b>
			</p>
			<p>
				Now a quick aside to derive something we're going to need:
			</p>
			<p style="margin-left:200px;">
				Recall:
				$$
				I = \frac{\mathrm{d}Q(t)} {\mathrm{d}t}\ \text{ and }\ Q_c(t) = CV_c(t)
				$$

				If we differentiate $Q_c(t) = CV_c(t)$ w.r.t time, we get:

				$$
					\frac{\mathrm{d}Q_c(t)}{\mathrm{d}t} = C\frac{\mathrm{d}V_c(t)}{\mathrm{d}t}
				$$

				And we know that $I = \frac{\mathrm{d}Q(t)}{\mathrm{d}t}$, so we can write:

				$$
					I(t) = C\frac{\mathrm{d}V_c(t)}{\mathrm{d}t} \ \bf{\color{blue}{(2)}}
				$$

				I.e., the current at time $t$ is also proportional to change in voltage across the capacitor,
				the constant of proportionality being the capacitance.
			</p>

			<p>
				Now we can continue by substituting $\bf{\color{blue}{(2)}}$ into $\bf{\color{blue}{(1)}}$ to get:

				$$
				V_s(t) - V_c(t) = R \cdot C\frac{\mathrm{d}V_c(t)}{\mathrm{d}t}
				$$

				TODO - FILL REST IN
			</p>
			<p>
				We end up with:

				$$
				V_c(t) = V_s(1 - e^{\frac{-t}{RC}})
				$$

				We can see that as the value of RC increases, the exponential value will decrease,
				which means that <b>the time it takes to charge the capacitor increases with either,
				or both of, $R$ and $C$</b>.
			</p>
			<p>
				When selecting the resistance through which to charge a capacitor consider:
			</p>
			<ol>
				<li>Charging time - how quickly do you need it to charge?</li>
				<li>Capacictor specs - maximum rated currents etc.</li>
				<li>Power source limitations - maximum current supply can provide.</li>
				<li>Steady state current - don't want too large a voltage drop over in-series
					resistor so that charging is efficient but not so small that current is excessive.</li>
			</ol>
			<p>
				In-series resistor could be anywhere between a hundred ohms to a couple of kilohms.
			</p>

			<h3>Capacitors In Series</h3>
			<p>
				$$
					\frac{1}{C_{eq}} = \frac{1}{C_1} + \frac{1}{C_2} + \cdots +  \frac{1}{C_n}
				$$
			</p>

			<h3>Capacitors In Parallel</h3>
			<p>
				$$
					C_{eq} = C_1 + C_2 + \cdots + C_n
				$$
			</p>

			<h3>Reactance</h3>
			<p>
				See <a href="https://www.daviddarling.info/encyclopedia/C/current_lag_and_lead.html" target="_blank">Current Lead And Lag, David Darling</a>.
			</p>
			<p>
				The opposition to the flow of <b>alternating</b> current due to capacitance is called "capacitive reactance.".
				In capacitors, the <b>current leads voltage</b> by 90 degrees. Resistance is measure using real numbers
				but reactance is measured in the <b>complex plane</b>.
			</p>
			<p>
				When a capacitor is uncharged, the voltage across it is zero. The increasing voltage from the AC supply
				will therefore, at the start, deliver the maximum amount of current. As the voltage across the capacitor
				grows in opposition to the supply, the current flow will decrease. Therefore at the start there must be
				minimum voltage across the capacitor, bu maximum current flow from the battery. Because the AC
				voltage is sinusoidal, this means that the current and voltage must be 90 degrees out of phase and
				the <b>current leads the voltage</b>.
			</p>
			<p>
				We know $V = iR$, so, of course,
				$$
				R = \frac{V}{i}
				$$
				Given the above reasoning we know that voltage across the capacitor must be a sine wave and
				therefore current must be a cosine.
				We also saw the equation for current in a section above:
				$$
					i = C\frac{\mathrm{d}V}{\mathrm{d}t}
				$$
				Therefore we can say that, if the input voltage is is $\sin(\omega t)$, then:
				$$
					i = C \omega \cos(\omega t)
				$$
				Therefore, using Ohm's law.
				$$
				R = \frac{\sin(\omega t)}{C \omega \cos(\omega t)}
				$$
				So, what's a sine divided a cosine? We can avoid some maths by recalling that multiplying
				by $j$ rotates a complex number by 90 degrees anticlockwise and how the sine and cosine can
				be seen as the values of a phasor on the imaginary and real axes respectively:
			</p>
			<p>
				<img src="##IMG_DIR##/sine_cosine_from_complex_axes1.png" alt="sine and cosine can be seen as the values of a phasor on the imaginary and real axes "/>
			</p>
			<p>
				So, to eliminate the sinusoids, we could express sine as a rot
			</p>

			<h3>Decoupling Capacitors</h3>
			<p>
			</p>
			<blockquote>
				<p>A lot of the capacitors you see in circuits, especially those featuring an integrated circuit, are decoupling.
					A decoupling capacitor's job is to supress high-frequency noise in power supply signals. They take tiny voltage
					ripples, which could otherwise be harmful to delicate ICs, out of the voltage supply.</p>


				<p>In a way, decoupling capacitors act as a very small, local power supply for ICs ... If the power supply very
					temporarily drops its voltage (which is actually pretty common, especially when the circuit it's powering is
					constantly switching its load requirements), a decoupling capacitor can briefly supply power at the correct voltage.
					...</p>
				<footer>-- <a href="https://learn.sparkfun.com/tutorials/capacitors/application-examples" target="_blank">Sparkfun - Electronics - Capacitors</a>.</footer>
			</blockquote>
			<p>
			</p>
			<blockquote>
				<p>The performance of many circuits is impaired by the presence of HF noise on their supplies, so any HF noise which might
					be present on an IC's supply must be shorted to ground. We cannot use a conductor for this as it will short circuit dc
					and blow fuses, but a capacitor (usually in the 1-nF to 100-nF range) blocks dc while acting as a short circuit for HF.</p>
				<p>1 cm of wire or PC track has ~8 nH inductance (5 Î© at 100 MHz), which is scarcely a short circuit. A capacitor acting as
					an HF short circuit must have low lead and PC track inductance, so each supply capacitor must be located very close to the
					two terminals of the IC it is decoupling. It is also important to choose capacitors with low internal inductance -
					usually ceramic ones.</p>
				<footer>--<a href="" target="_blank">In and Out - or - Why Have a Capacitor?</a>, James Byrant, AnalgueDialogue.com</footer>
			</blockquote>
			<p>
			</p>

			<h3>References</h3>
			<ul>
				<li>
					REF(`REF_KHAN_CAP_PULSE', `Capacitor i-v equation in action'), Willy McAllister, Khan Achademy,
				</li>
				<li>
					REF(`REF_KHAN_CAP_EQUATIONS', `Derivation of Charging and Discharging Equations for RC Circuit'), Khan Achademy,
				</li>
				<li>
					REF(`REF_SO_CAP_EQUATIONS', `Deriving the formula from scratch for charging a capacitor'), Adam Haun's answer on StackOverflow.com,
				</li>
			</ul>

		</div>



		<!-- --------------------------------------------------------------------------------------- -->
		<h2>Inductors</h2>
		<div>
			<p>
				An inductor is a coil of wire, sometimes round a feris core, that <b>stores energy in its magnetic field</b>.
				Its strength depends on the number of turns in the coil and the type of core material and its
				cross-sectional area.
			</p>
			<p>
				Inductors <b>oppose the change of current</b> flowing though them. They are measured in &quot;Henrys&quot;.
				The formula below defines inductance, L. Inductance is the voltage generated per unit change in
				current.

				$$
				v = L \frac{\mathrm{d}i}{\mathrm{d}t}
				$$

				Integrating both sides and re-arranging we can get:

				$$
				i = \frac{1}{L}\int_{t_0}^{t} v(t)\ \mathrm{d}t - i(t_0)
				$$
			</p>
			<p>
				Whilst capacitors are low pass filters, inductors are <b>high pass filters</b>.
			</p>

			<h3>Inductors In Series</h3>
			<p>
				$$
				L_{\text{eq}} = L_1 + L_2 + \cdots + L_n
				$$
			</p>
			<h3>Inductors In Parallel</h3>
			<p>
				$$
				\frac{1}{L_{\text{eq}}} = \frac{1}{L_1} + \frac{1}{L_2} + \cdots + \frac{1}{L_n}
				$$

				So, for 2 inductors in parallel:

				$$
				L_{\text{eq}} = \frac{L_1L_2}{L_1 + L_2}
				$$
			</p>
		</div>



		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">Diodes</h2>
		<div>
			<p>
				<img src="##IMG_DIR##/diode_symbol.png" alt="diode symbol"/>
			</p>
			<p>
				Diodes let current flow in one direction, but not the other, and always drop the
				same voltage across them no matter the src voltage.
			</p>
			<p>
				<img src="##IMG_DIR##/diode.png"/>
			</p>
			<p>
				Diodes drop the same voltage across them no matter the voltage source rating. So, for example,
				silicon diode needs about 0.7V to fwd bias, but won't let the voltage drop across it
				exceed this. So if you don't protect it with a resistor it will allow too much current to
				flow and potentially overheat!
			</p>
			<p>
				<img src="##IMG_DIR##/diode_with_resistor_current.png"/>
			</p>
			<p>
			</p>
			<h3>Forward and Reverse Voltages - Some Terminology</h3>
			<p></p>
			<blockquote>
				The <b>forward voltage</b> is the voltage drop across the diode if the voltage at the anode
				is more positive than the voltage at the cathode (if you connect + to the anode). [I.e.,
				voltage drop when forward biased.]

				You will be using this value to calculate the power dissipation of the diode and the
				voltage after the diode.

				The <b>reverse voltage</b> is the voltage drop across the diode if the voltage at the cathode
				is more positive than the voltage at the anode (if you connect + to the cathode).
				[I.e., voltage drop when reverse biased.]

				This is usually much higher than the forward voltage. As with forward voltage, a current
				will flow if the connected voltage exceeds this value. This is called a "breakdown".
				Common diodes are usually destroyed but with Z and Zener diodes this effect is used deliberately.
				<footer>-- <a href="https://electronics.stackexchange.com/a/10968" target="_blanK">StackOverflow</a>.</footer>
			</blockquote>
			<p></p>

			<h3>Light Emitting Diode (LED)</h3>
			<p>
				Lets look at a standard
				<a href="https://www.farnell.com/datasheets/1498852.pdf" target="_blank">red LED datasheet</a>:
			</p>
			<p>
				<img src="##IMG_DIR##/../standard_led_datasheet_screenshot.png">
			</p>
			<p>
				The data sheet shows that we should be putting about 20mA through the LED, with
				about 2V across it.
			</p>
			<p>
				That data sheet also shows us that if we reverse bias the LED and put more than
				100 micro-amps through it it will break down.
			</p>
			<p>
				Let's try figuring out some values for a really simple circuit:
			</p>
			<p>
				<img src="##IMG_DIR##/electronics_quick_diode_calc_example.png">
			</p>


			<h3>References</h3>
			<ul>
				<li><a href="http://www.cs.tut.fi/kurssit/TLT-8016/Chapter3.pdf" target="_blank">Diodes and Diode Circuits</a>.</li>
				<li><a href="https://electronics.stackexchange.com/a/76372/26358" target="_blank">Accounting for LED resistance</a>, StackExchange.</li>
			</ul>
		</div>







		<!-- --------------------------------------------------------------------------------------- -->
		<a name="bjt"></a>
		<h2 style="clear:both;">Bipolar Junction Transistors (BJT)</h2>
		<div>
			<h3>NPN Transistor in Common Emitter Configuration</h3>
			<div>
				<p>
					NPN transistors consist of two N-type (negatively doped - excess electroncs) silicon &quot;chunks&quot;
					sandwiching a P-type (positively doped - exess holes or lacking electrons) as shown below. They are
					<b>current controlled</b>.
				</p>
				<p>
					<img src="##IMG_DIR##/npn_transistor.png"/>
					REF(`REF_UDEMY_ROBOTS', `[Ref]')
				</p>
				<p>
					By forward biasing the emitter to base junction with even a small current, the
					transistor's resistance between the emitter and collector quickly decreses, allowing
					a relatively large current to flow from the emitter to collector. I.e., <b>base current
					controls current at emitter and collector</b>.
				</p>
				<p>
					The circuit in its most basic form looks like:
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_npm_circuit_basic.png">
				</p>
				<blockquote>
					<ul>
						<li>The <b>base is responsible for initiating transistor action</b>. When a voltage
							is applied at the base, it gets biased and draws <b>small current which is then
								used to control large</b> current at the collector and emitter side.
						</li>
						<li>The base action is considered as an ON-OFF valve which generates current when a
							proper bias voltage is applied at this terminal.
						</li>
						<li>The small change at the voltage applied at the base terminal shows a large impact
							at the output terminals. Actually, base acts as an input and collector acts as an output
							in NPN transistor.</li>
						<li>In case of <b>silicon transistor emitter-base junction draws voltage around 0.7V</b>
							when there is no voltage at the base terminal, in order to initiate the electron action
							and put the transistor in running condition, the base voltage must be greater than 0.7
							voltage in case of silicon transistor and 0.3 in case of germanium transistor.</li>
					</ul>
					<footer>-- REF(`REF_TRANS_CONFIGS', `Transistor Configurations: Circuit Configurations'), emphasis mine.</footer>
				</blockquote>

				<p>I like this explanation by "Papabravo" on ["All About Circuits"](https://forum.allaboutcircuits.com/threads/bjts-and-base-emitter-saturation-voltage-vbe-sat.6664/) (emphasis mine):</p>

				<blockquote>
					<p>
						Like a conventional diode the Base-Emitter junction becomes saturated when the voltage difference
						between the base and the emitter is greater than about 0.7V. <b>It is very difficult to further increase
						the voltage across the junction because the current increases exponentially for small increases in Vbe</b>.
						That's the how. The why is related to the behavior of a p-n junction according to the diode equation.
						If you try to force more than Vbe(sat) across the junction then the device will conduct enough current
						to destroy itself. That is the principal reason for the base resistor in switching circuits: to limit
						the base current.
					</p>
				</blockquote>
				<p></p>
				<p>
					<img src="##IMG_DIR##/electronics_npm_in_voltage_divider.png">
				</p>
				<p>
					The above configuration is called the <b>common emitter</b> configuration and is
					probably the most widely used REF(`REF_TRANS_CONFIGS', `[Ref]').
				</p>
				<blockquote>
					The configuration in which the emitter is connected between the collector and base
					is known as a common emitter configuration. The input circuit is connected between
					emitter and base, and the output circuit is taken from the collector and emitter.
					Thus, the emitter is common to both the input and the output circuit, and hence the
					name is the common emitter configuration.
					<footer>-- REF(`REF_CE_TRANSITOR_CONFIG', `Common Emitter Connection (or CE Configuration)').</footer>
				</blockquote>
				<p></p>
				<p>
					NPN transistors can <b>typically handle up to about 0.8 A</b>. Thus, they are <b>low current</b>
					devices. For large currents MOSFETs are used (later section).
				</p>
				<p><b>Saturation region</b> is where the maximum collector current flows and the transistor
				is basically a closed switch from collector to emitter. The collector-emitter voltage (VCE)
				is relatively low, and the collector current (IC) becomes nearly constant regardless of 
				further increases in base current (IB). Saturation is often desired in switching applications 
				to ensure the transistor is operating in its fully conducting state.
				</p>
				<p><b>Active mode / region</b> is where there is an almost linear relationship between the
					terminal currents at the base, collector and emitter. The transistor has some resistance,
					that is determined by the emitter/base current.
				</p>
				<p><b>Cut-off region</b> is where the transistor acts like an open switch.
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_npn_states.png">
				</p>
				<p>
					<b>THE FOLLOWING SCRIBBLE IS WRONG!!! TODO</b>
					The following is taken from the Semtech 2N2222 datasheet:
				</p>
				<p>
					<img src="##IMG_DIR##/../electronics_2N222_Vce_vs_Ic.png">
				</p>
				<p>
					A common NPN transistor is the 2N2222. Looking at the data sheet REF(`REF_2N2222', `[Ref]')
					we can find the following properties:
				</p>
				<table class="jehtable">
					<thead>
						<tr><td>Parameter</td><td>Max</td></tr>
					</thead>
					<tbody>
						<tr><td>Collector-base voltage V<sub>CBO</sub></td><td>60 V</td></tr>
						<tr><td>Collector-emitter voltage V<sub>CEO</sub></td><td>30 V</td></tr>
						<tr><td>Emitter-base voltage V<sub>EBO</sub></td><td>5 V</td></tr>
						<tr><td>Peak collector current</td><td>800 mA</td></tr>
						<tr><td>Peak base current</td><td>200mA</td></tr>
						<tr><td>Total power disipation</td><td>500 mW</td></tr>
					</tbody>
				</table>
				<p>
					We can see that this device can handle a maximum of 0.8A though its emitter-collector and
					only 0.2A at the base. It is however, able to tolerate relatively high voltages, just not
					high currents, which as we said above, you'd need MOSFETs, or even relays for.
				</p>
				<p>
					Other useful numbers from the datasheet include:
				</p>
				<table class="jehtable">
					<thead>
						<tr><td>Parameter</td><td>Max</td></tr>
					</thead>
					<tbody>
						<tr><td>V<sub>CEsat</sub><br>Voltage from collector-emitter when saturated (i.e fully on)</td> <td>400mV</td></tr>
						<tr><td>V<sub>BEsat</sub><br>Voltage from base-emitter when saturated (i.e fully on)</td> <td>1.3V</td></tr>
						<tr><td>
								H<sub>FE</sub><br>
								DC current gain<br>
								@ I<sub>C</sub> = 0.1 mA; V<sub>CE</sub> = 10 V<br>
								@ I<sub>C</sub> = 1 mA; V<sub>CE</sub> = 10 V<br>
								@ I<sub>C</sub> = 10 mA; V<sub>CE</sub> = 10 V<br>
								@ I<sub>C</sub> = 150 mA; V<sub>CE</sub> = 1 V<br>
								@ I<sub>C</sub> = 150 mA; V<sub>CE</sub> = 10 V<br>
							</td>
							<td>
								<br>
								<br>
								35<br>
								50<br>
								75<br>
								50<br>
								100-300<br>
							</td>
						</tr>
					</tbody>
				</table>

				

				<h4>Current Amplification Factor: $\alpha$ &amp; Base Current Amplification Factor: $\beta$</h4>
				<div>
					<p>
						The current gain from Collector (C) to Emitter (E): i.e., the ratio of change in collector current to
						the change in emitter current when <em>emitter voltage is kept constant</em>:

						$$
						\alpha = \frac{\Delta I_C}{\Delta I_E}\ \text{at constant } V_{CE}
						$$

						Note that <b>$\alpha$ is always less than 1!</b>. This is because the collector current cannot be
						greater than the emitter current: KCL: $i_e = i_b + i_c$, so therefore, $i_c = i_e - i_b$, which means that,
						because $i_b \neq 0$, $i_e > i_c$.
					</p>
					<p>
						Ah, it seems <b>$\alpha$ is more relevant to the common base</b> configuration?! Although still useful here because

						$$
						 I_c = \alpha I_e
						$$
					</p>
					<p>
						Ratio of output and input current in CE config:

						$$
						\beta = \frac{\Delta I_C}{\Delta I_B}
						$$
					</p>
					<p>
						The two are related as follows:

						$$
						\beta = \frac{\alpha}{1 - \alpha}\ \text{OR } \alpha = \beta(1 - alpha)
						$$
					</p>
					<p>
						And,

						$$
						I_c = \beta I_b
						$$
					</p>

					<p>
						Some examples, taken verbatim, from REF(`REF_NPN_ELECTRONICS_TUTS', `electronics-tutorials.ws on the NPN Transitor')
						will help understand why these are useful.
					</p>
					<p>
						A bipolar NPN transistor has a DC current gain, $\beta$, value of 200. Calculate the base current $I_b$
						required to switch a resistive load of 4mA.

						$$
						I_B = \frac{I_C}{\beta} = \frac{4 \times 10^{-3}}{200} = 20 \mu A
						$$
					</p>
				</div>


				<h4>Calculating Resistor Values</h4>
				<div>
					<p>
						All based on an answer from StackOverflow REF(`REF_CALC_RESISTOR_FOR_TRANSITOR', `[Ref]').
					</p>
					<p>
						<img src="##IMG_DIR##/electronics_determine_transistor_resistors.png">
					</p>
				</div>
			</div>

			<h4>Calculating Resistor Values</h4>
			<div>
				<p>
					All based on an answer from StackOverflow REF(`REF_CALC_RESISTOR_FOR_TRANSITOR', `[Ref]').
				</p>
				<p>
					<img src="##IMG_DIR##/electronics_determine_transistor_resistors.png">
				</p>
			</div>

			
			<h3>References</h3>
			<div>
				<ul>
					<li>
						REF(`REF_UDEMY_ROBOTS', `Electricity &amp; Electronics - Robotics, Learn By Building'), Ian Juby on Udemy.
					</li>
					<li>
						REF(`REF_NPN_CURVES', `NPN Characteristic Curves').
					</li>
					<li>
						REF(`REF_NPN_INTRO', `Introduction To The NPN Transistor'), TheEngineeringProjects.com.
					</li>
					<li>
						REF(`REF_TRANS_CONFIGS', `Transistor Configurations: Circuit Configurations'), Electronics-Notes.com.
					</li>
					<li>
						REF(`REF_2N2222', `NPN Transistor 2N2222 DataSheet').
					</li>
					<li>
						REF(`REF_CALC_RESISTOR_FOR_TRANSITOR', `TODO')
					</li>
					<li>
						REF(`REF_CE_TRANSITOR_CONFIG', `TODO')
					</li>
				</ul>
			</div>
		</div>

		<!-- --------------------------------------------------------------------------------------- -->
		<a name="caps_and_transistors_examples"></a>
		<h2 style="clear:both;">Some Examples Bringing Together What We've Seen So Far...</h2>
		<div>
			<p>
				<img src="##IMG_DIR##/cap_npn_transistor_switch_led_example.png">
			</p>
		</div>

		<!-- --------------------------------------------------------------------------------------- -->
		<a name="mosfet"></a>
		<h2 style="clear:both;">Metal Oxide Semiconductor Field Effect Transistor (MOSFET)</h2>
		<div>
			<p>
			</p>
		</div>




		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">555 Timer</h2>
		<div>
			<p>
				<img src="##IMG_DIR##/555_timer.png" alt="555 timer in astable operation"/>
			</p>
			<p>
				The total resistance R<sub>A</sub> + R<sub>B</sub> will determine the time it takes
				for the transistor to charge, assuming we keep capacitance constant. However, when the capacitor
				discharges, it only discharges through R<sub>B</sub>.
			</p>
			<p>
				Recall charge time for a cap to charge to 63% of the voltage across is is
				$\tau = RC$. So by varying either the resistors or the capacitor the period of the
				pulse train output on pin 3 can be varied.
			</p>
			<p>
				The diagrams above and below imagine that there is a switch inside the 555, which there is,
				its just not a mechanical switch like these diagrams suggest (see later below for more details).
				As the capacitor charges the voltage across it increases. When it hits 2/3 of the reference voltage,
				the switch in side the 555 closes such that pin 7 is shorted to ground. The capacitor then immediately
				starts to discharg through R<sub>B</sub> and when the voltage across the capacitor is less than
				1/3 the reference voltage the switch opens again, starting the charge cycle and so on.
			</p>
			<p>
				As the switch also controls the connection between the reference voltage and the output, this
				produces a pulse train who's frequency is determined by the two resistors and the capacitor, and
				with a duty cycle that is determined by the two resistors.
			</p>
			<p style="float: left;">
				<img src="##IMG_DIR##/chargin_555_cap.png"/>
			</p>
			<p style="float: left;">
				<img src="##IMG_DIR##/555_timer_discharge.png"/>
			</p>
			<p style="clear: both;">
				The following is a silly little animation of the capacitor discharging through
				R2. Imagine that the 3 red dots represent the flow of electrons from the negatively
				charged plate to the positive plate of the capacitor as it discharges. I think normally it would
				be shown using conventional current flow, but this animation uses actual electron flow. meh.
			</p>
			<video playsinline autoplay muted loop>
				<source src="##IMG_DIR##/555_cap_discharge_anim2.mp4" type="video/mp4">
			</video><br/>
			<p>
				Wikimedia has a really nice illustration of the components in the 555, which I've copied below and inserted the components outside the
				chip that we used above to create an astable vibrator. Here, we can see that the switch shown above is really
				an RS flip flop combined with a transitor.
			</p>
			<p>
				<img src="##IMG_DIR##/555_timer_copy_of_wikimedia_plus_surrounding_circuit.png" alt="Picture of 555 astable vibrator with internals representation of 555 shown"/>
			</p>
			<p>
				Each of the components, like the RS flip flop, comparitors and other gates can be further broken down into their transitor/resitor combinations, so
				the above is just another, slightly more detailed abstraction. The real circuit is far, far more complex when broken down into its &quot;atomic&quot;
				building blocks!
			</p>

			<h3>555 References</h3>
			<ul>
				<li>
					<a href="https://howtomechatronics.com/how-it-works/electronics/555-timer-ic-working-principle-block-diagram-circuit-schematics/" target="_blank">555 Timer IC - Working Principle, Block Diagram, Circuit Schematics</a>, Dejan, Mechatronics How To.
				</li>
				<li>
					<a href="https://commons.wikimedia.org/wiki/File:NE555_Bloc_Diagram.svg" title="via Wikimedia Commons" target="_blank">NE555 Block Diagram, BlanchardJ</a> / Public domain.
				</li>
				<li>
					<a href="https://www.electronics-tutorials.ws/sequential/seq_1.html" target="_blank">Sequential Logic Circuits</a>, Electronic Tutorials, SR Flip Flop.
				</li>
				<li>
					<a href="https://en.wikipedia.org/wiki/NAND_gate" target="_blank">NAND gate</a>, WikiPedia.
				</li>
			</ul>
		</div>

		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">SR Latch</h2>
		<div>
			<p>The SR latch has the following symbol:</p>
			<p>
				<img src="##IMG_DIR##/electronics-sr-latch-symbol.png"/>
			</p>
			<p>
				It has the following states:
			</p>
			<p>
				<img src="##IMG_DIR##/electronics-sr-latch-states-detailed.png"/>
			</p>

		</div>

		<!-- --------------------------------------------------------------------------------------- -->
		<h2 style="clear:both;">Decibels</h2>
		<div>
			Decibels:
			<ul>
				<li>Are a consistent way to compare signal strengths.</li>
				<li>Are a ratio of two power values.</li>
				<li>Uses logarithmic values so large and small ratios alike can be worked with.</li>
				<li>1 Bel == x10 power gain or loss. Too big for most measurements, hence the decibel (dB) which is x0.1 power gain or loss.</li>
			</ul>
			<p>
				$$
				\text{Power Gain (dB)} = 10\log\left(\frac{\text{power}}{\text{reference power}}\right)
				$$

				The number of dB is 10 times the number of bels (hence the multiplication by 10 of the log of the power ratio).
			</p>
			<p>
				If the reference power is 1, then,
			</p>
			<table class="jehtable">
				<thead>
					<tr><td>Measured power</td> <td>Gain in dB</td></tr>
				</thead>
				<tbody>
					<tr><td>...</td><td>...</td></tr>
					<tr><td>0.001</td><td>-30</td></tr>
					<tr><td>0.01</td><td>-20</td></tr>
					<tr><td>0.1</td><td>-10</td></tr>
					<tr><td>1</td><td>0</td></tr>
					<tr><td>10</td><td>10</td></tr>
					<tr><td>100</td><td>20</td></tr>
					<tr><td>1000</td><td>30</td></tr>
					<tr><td>...</td><td>...</td></tr>
				</tbody>
			</table>
			<p>
				If the measured signal is 10 time stronger than the
				reference then the gain is 10 dB. If the measured signal is 100 times stronger than
				the reference then the gain is 20 dB and so on... <b>I.e., +10dB means x10 power gain</b>.
			</p>
			<div class="box_container">
				<div class="info">
					<p>+10dB means x10 power gain.</p>
				</div>
			</div>
			<p>
				Note that the decibels difference between two voltage or currents is:

				$$
					\text{V Power Gain (dB)} = \textbf{20}\log\left(\frac{\text{V}_{\text{out}}}{\text{V}_{\text{in}}}\right)
				$$

				Note the multiply-by-20 as opposed to the multiply-by-10. This is so that a x10 increased in power would be equivalent to adding 10dB and
				becase power is proportional to the square of the voltage.
			</p>

			<h3>Specific Reference Values</h3>
			<div>
				If the value is x dB?, where ? is a letter, ? says *what* the decibel value is relative to. If, for example, the value is
				x dBm, then because "m" stands for milliwatt (mW), the value is relative to a reference power of 1 mW. Thus, 10 dBm would be q 10 mW gain and so on...
			</div>

		</div>
	</div>
</body>
</html>


