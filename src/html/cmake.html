<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <!-- HTML 4 -->
    <meta charset="UTF-8">                                              <!-- HTML 5 -->
    <title>CMake | JEHTech</title>
    <!-- META_INSERT -->
    <!-- CSS_INSERT -->
    <!-- JAVASCRIPT_INSERT -->
</head>

<body>
<div id="header">
    -- This is JEHTech --
</div>

<div id="sidebar">
    <h1 class="title">Links...</h1>
    <div id="includedContent"></div>
</div>

<div id="content">
<h1 class="title">CMake</h1>
<div style="padding-right:10px;">

<h2>Page Contents</h2>
<div id="page_contents">
</div>

<h2>References / useful Links</h2>
<div>
<ul>
    <li>https://github.com/onqtam/awesome-cmake</li>
    <li>https://www.jetbrains.com/help/clion/quick-cmake-tutorial.html</li>
    <li>https://cgold.readthedocs.io/en/latest/overview.html</li>
    <li>https://github.com/toeb/moderncmake/blob/master/Modern%20CMake.pdf</li>
    <li>https://stackoverflow.com/questions/8934295/add-source-in-a-subdirectory-to-a-cmake-project</li>
    <li>https://stackoverflow.com/questions/17653738/recursive-cmake-search-for-header-and-source-files</li>
    <li>https://github.com/ruslo/sugar/wiki/Collecting-sources</li>
    <li>https://crascit.com/2015/02/02/cmake-target-dependencies/</li>
    <li>http://floooh.github.io/2016/01/12/cmake-dependency-juggling.html</li>
    <li>http://crascit.com/2016/01/31/enhanced-source-file-handling-with-target_sources/</li>
    <li>https://cmake.org/pipermail/cmake/2016-May/063400.html</li>
</ul>
<pre>
http://derekmolloy.ie/hello-world-introductions-to-cmake/
https://mirkokiefer.com/cmake-by-example-f95eb47d45b1
https://www.udemy.com/introduction-to-cmake/
https://cgold.readthedocs.io/en/latest/overview/cmake-can.html
https://crascit.com/professional-cmake/
https://pabloariasal.github.io/2018/02/19/its-time-to-do-cmake-right/
</pre>
</div> <!-- END References / useful Links -->

<h2>Install From Source</h2>
<div>
    <p></p>
    <pre>sudo apt install build-essential checkinstall zlib1g-dev libssl-dev
wget https://github.com/Kitware/CMake/archive/refs/tags/v3.28.0-rc4.tar.gz
tar -zxvf v3.28.0-rc4.tar.gz
( cd CMake-3.28.0-rc4
    ./bootstrap && make && sudo make install
)
rm -fr CMake-3.28.0-rc4 </pre>
    <p></p>
</div>

<h2>Include CPPCheck In Your Projects</h2>
<div>
    <pre>
if (${USE_CPPCHECK})
    find_program(CMAKE_CXX_CPPCHECK NAMES cppcheck)
    if (CMAKE_CXX_CPPCHECK)
        MESSAGE(STATUS "Found CPPCheck: `${CMAKE_CXX_CPPCHECK}`")

        # Only interested in NI source, which is all in the bsp or app directories.
        set (CPP_SOURCES ${MY_SOURCES})

        # Filter the source set if you need too.
        list(FILTER CPP_SOURCES INCLUDE REGEX ...)

        # CPP Check needs the include directories and the compile definitions that the
        # project uses. To get these use a generator expression:
        #     Generator expressions are evaluated during build system generation to produce
        #     information specific to each build configuration.
        set(CPPCHECK_INCS "$&lt;TARGET_PROPERTY:${PROJECT_NAME}.elf,INCLUDE_DIRECTORIES&gt;")
        set(CPPCHECK_DEFS "$&lt;TARGET_PROPERTY:${PROJECT_NAME}.elf,COMPILE_DEFINITIONS&gt;")

        # When using add_custom_command() or add_custom_target(), use the VERBATIM and 
        # COMMAND_EXPAND_LISTS options to obtain robust argument splitting and quoting.
        add_custom_target(
                ${PROJECT_NAME}_cppcheck
                ALL
                COMMAND ${CMAKE_CXX_CPPCHECK}
                ${CPP_SOURCES}
                "-I;$&lt;JOIN:${CPPCHECK_INCS},;-I;&gt;" #&lt; Must be quoted so it is recognised as a generator expression
                "-D$&lt;JOIN:${CPPCHECK_DEFS},;-D&gt;"   #&lt; Must be quoted so it is recognised as a generator expression
                --force
                --enable=all
                --suppress=missingIncludeSystem
                COMMAND_EXPAND_LISTS
                VERBATIM
                USES_TERMINAL
            )
        
            # Or, apparently could use the following, which looks better:
            # "$&lt;LIST:TRANSFORM,$&lt;TARGET_PROPERTY:tgt,INCLUDE_DIRECTORIES&gt;,PREPEND,-I&gt;"
    else()
        MESSAGE(WARNING "Could not find CPPCHECK")
    endif()
endif()
</pre>
</div>

<h2>Include DocyGen In Your Projects</h2>
<div>
    <pre>
if (${USE_DOXYGEN})
    find_package(Doxygen)
    if (${DOXYGEN_FOUND})
        MESSAGE(STATUS "Doxygen found.")

        set(DOXYGEN_OUTPUT_DIRECTORY "${PROJECT_BINARY_DIR}/...choose a dir name...")
        set(DOXYGEN_IMAGE_PATH "${PROJECT_SOURCE_DIR}/...insert paths here...")
        set(DOXYGEN_RECURSIVE "YES")
        set(DOXY_INPUT "${PROJECT_SOURCE_DIR}/...list dirs here...")
        set(DOXYGEN_EXCLUDE_PATTERNS ...anything you'd like to ignore...)
        doxygen_add_docs(
                ${PROJECT_NAME}_doxygen
                ALL
                ${DOXY_INPUT}
                COMMENT "Generate Doxygen content"
        )
    else ()
        MESSAGE(WARNING "Doxygen not found. Doxygen output will not be created.")
    endif ()
endif()
    </pre>
</div>

<h2>Misc</h2>
<div>
    <p>
        See search path used: if you want to see which directories CMake is search in your case just call
    </p>
    <pre>cmake -D CMAKE_FIND_DEBUG_MODE=ON</pre>
<p>
    Dump out all variables and their values:
</p>
<pre>get_cmake_property(_variableNames VARIABLES)
foreach (_variableName ${_variableNames})
    message(STATUS "${_variableName}=${${_variableName}}")
endforeach()</pre>
</div> <!-- End Misc -->

</div> <!-- END H1 padding div -->
</div>
</body>
</html>


 
